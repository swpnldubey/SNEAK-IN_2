{"ast":null,"code":"const dangerouslyDisableDefaultSrc = Symbol(\"dangerouslyDisableDefaultSrc\");\nconst DEFAULT_DIRECTIVES = {\n  \"default-src\": [\"'self'\"],\n  \"base-uri\": [\"'self'\"],\n  \"font-src\": [\"'self'\", \"https:\", \"data:\"],\n  \"form-action\": [\"'self'\"],\n  \"frame-ancestors\": [\"'self'\"],\n  \"img-src\": [\"'self'\", \"data:\"],\n  \"object-src\": [\"'none'\"],\n  \"script-src\": [\"'self'\"],\n  \"script-src-attr\": [\"'none'\"],\n  \"style-src\": [\"'self'\", \"https:\", \"'unsafe-inline'\"],\n  \"upgrade-insecure-requests\": []\n};\nconst getDefaultDirectives = () => Object.assign({}, DEFAULT_DIRECTIVES);\nconst dashify = str => str.replace(/[A-Z]/g, capitalLetter => \"-\" + capitalLetter.toLowerCase());\nconst isDirectiveValueInvalid = directiveValue => /;|,/.test(directiveValue);\nconst has = (obj, key) => Object.prototype.hasOwnProperty.call(obj, key);\nfunction normalizeDirectives(options) {\n  const defaultDirectives = getDefaultDirectives();\n  const {\n    useDefaults = true,\n    directives: rawDirectives = defaultDirectives\n  } = options;\n  const result = new Map();\n  const directiveNamesSeen = new Set();\n  const directivesExplicitlyDisabled = new Set();\n  for (const rawDirectiveName in rawDirectives) {\n    if (!has(rawDirectives, rawDirectiveName)) {\n      continue;\n    }\n    if (rawDirectiveName.length === 0 || /[^a-zA-Z0-9-]/.test(rawDirectiveName)) {\n      throw new Error(`Content-Security-Policy received an invalid directive name ${JSON.stringify(rawDirectiveName)}`);\n    }\n    const directiveName = dashify(rawDirectiveName);\n    if (directiveNamesSeen.has(directiveName)) {\n      throw new Error(`Content-Security-Policy received a duplicate directive ${JSON.stringify(directiveName)}`);\n    }\n    directiveNamesSeen.add(directiveName);\n    const rawDirectiveValue = rawDirectives[rawDirectiveName];\n    let directiveValue;\n    if (rawDirectiveValue === null) {\n      if (directiveName === \"default-src\") {\n        throw new Error(\"Content-Security-Policy needs a default-src but it was set to `null`. If you really want to disable it, set it to `contentSecurityPolicy.dangerouslyDisableDefaultSrc`.\");\n      }\n      directivesExplicitlyDisabled.add(directiveName);\n      continue;\n    } else if (typeof rawDirectiveValue === \"string\") {\n      directiveValue = [rawDirectiveValue];\n    } else if (!rawDirectiveValue) {\n      throw new Error(`Content-Security-Policy received an invalid directive value for ${JSON.stringify(directiveName)}`);\n    } else if (rawDirectiveValue === dangerouslyDisableDefaultSrc) {\n      if (directiveName === \"default-src\") {\n        directivesExplicitlyDisabled.add(\"default-src\");\n        continue;\n      } else {\n        throw new Error(`Content-Security-Policy: tried to disable ${JSON.stringify(directiveName)} as if it were default-src; simply omit the key`);\n      }\n    } else {\n      directiveValue = rawDirectiveValue;\n    }\n    for (const element of directiveValue) {\n      if (typeof element === \"string\" && isDirectiveValueInvalid(element)) {\n        throw new Error(`Content-Security-Policy received an invalid directive value for ${JSON.stringify(directiveName)}`);\n      }\n    }\n    result.set(directiveName, directiveValue);\n  }\n  if (useDefaults) {\n    Object.entries(defaultDirectives).forEach(([defaultDirectiveName, defaultDirectiveValue]) => {\n      if (!result.has(defaultDirectiveName) && !directivesExplicitlyDisabled.has(defaultDirectiveName)) {\n        result.set(defaultDirectiveName, defaultDirectiveValue);\n      }\n    });\n  }\n  if (!result.size) {\n    throw new Error(\"Content-Security-Policy has no directives. Either set some or disable the header\");\n  }\n  if (!result.has(\"default-src\") && !directivesExplicitlyDisabled.has(\"default-src\")) {\n    throw new Error(\"Content-Security-Policy needs a default-src but none was provided. If you really want to disable it, set it to `contentSecurityPolicy.dangerouslyDisableDefaultSrc`.\");\n  }\n  return result;\n}\nfunction getHeaderValue(req, res, normalizedDirectives) {\n  let err;\n  const result = [];\n  normalizedDirectives.forEach((rawDirectiveValue, directiveName) => {\n    let directiveValue = \"\";\n    for (const element of rawDirectiveValue) {\n      directiveValue += \" \" + (element instanceof Function ? element(req, res) : element);\n    }\n    if (!directiveValue) {\n      result.push(directiveName);\n    } else if (isDirectiveValueInvalid(directiveValue)) {\n      err = new Error(`Content-Security-Policy received an invalid directive value for ${JSON.stringify(directiveName)}`);\n    } else {\n      result.push(`${directiveName}${directiveValue}`);\n    }\n  });\n  return err ? err : result.join(\";\");\n}\nconst contentSecurityPolicy = function contentSecurityPolicy(options = {}) {\n  const headerName = options.reportOnly ? \"Content-Security-Policy-Report-Only\" : \"Content-Security-Policy\";\n  const normalizedDirectives = normalizeDirectives(options);\n  return function contentSecurityPolicyMiddleware(req, res, next) {\n    const result = getHeaderValue(req, res, normalizedDirectives);\n    if (result instanceof Error) {\n      next(result);\n    } else {\n      res.setHeader(headerName, result);\n      next();\n    }\n  };\n};\ncontentSecurityPolicy.getDefaultDirectives = getDefaultDirectives;\ncontentSecurityPolicy.dangerouslyDisableDefaultSrc = dangerouslyDisableDefaultSrc;\nconst ALLOWED_POLICIES$2 = new Set([\"require-corp\", \"credentialless\", \"unsafe-none\"]);\nfunction getHeaderValueFromOptions$6({\n  policy = \"require-corp\"\n}) {\n  if (ALLOWED_POLICIES$2.has(policy)) {\n    return policy;\n  } else {\n    throw new Error(`Cross-Origin-Embedder-Policy does not support the ${JSON.stringify(policy)} policy`);\n  }\n}\nfunction crossOriginEmbedderPolicy(options = {}) {\n  const headerValue = getHeaderValueFromOptions$6(options);\n  return function crossOriginEmbedderPolicyMiddleware(_req, res, next) {\n    res.setHeader(\"Cross-Origin-Embedder-Policy\", headerValue);\n    next();\n  };\n}\nconst ALLOWED_POLICIES$1 = new Set([\"same-origin\", \"same-origin-allow-popups\", \"unsafe-none\"]);\nfunction getHeaderValueFromOptions$5({\n  policy = \"same-origin\"\n}) {\n  if (ALLOWED_POLICIES$1.has(policy)) {\n    return policy;\n  } else {\n    throw new Error(`Cross-Origin-Opener-Policy does not support the ${JSON.stringify(policy)} policy`);\n  }\n}\nfunction crossOriginOpenerPolicy(options = {}) {\n  const headerValue = getHeaderValueFromOptions$5(options);\n  return function crossOriginOpenerPolicyMiddleware(_req, res, next) {\n    res.setHeader(\"Cross-Origin-Opener-Policy\", headerValue);\n    next();\n  };\n}\nconst ALLOWED_POLICIES = new Set([\"same-origin\", \"same-site\", \"cross-origin\"]);\nfunction getHeaderValueFromOptions$4({\n  policy = \"same-origin\"\n}) {\n  if (ALLOWED_POLICIES.has(policy)) {\n    return policy;\n  } else {\n    throw new Error(`Cross-Origin-Resource-Policy does not support the ${JSON.stringify(policy)} policy`);\n  }\n}\nfunction crossOriginResourcePolicy(options = {}) {\n  const headerValue = getHeaderValueFromOptions$4(options);\n  return function crossOriginResourcePolicyMiddleware(_req, res, next) {\n    res.setHeader(\"Cross-Origin-Resource-Policy\", headerValue);\n    next();\n  };\n}\nfunction originAgentCluster() {\n  return function originAgentClusterMiddleware(_req, res, next) {\n    res.setHeader(\"Origin-Agent-Cluster\", \"?1\");\n    next();\n  };\n}\nconst ALLOWED_TOKENS = new Set([\"no-referrer\", \"no-referrer-when-downgrade\", \"same-origin\", \"origin\", \"strict-origin\", \"origin-when-cross-origin\", \"strict-origin-when-cross-origin\", \"unsafe-url\", \"\"]);\nfunction getHeaderValueFromOptions$3({\n  policy = [\"no-referrer\"]\n}) {\n  const tokens = typeof policy === \"string\" ? [policy] : policy;\n  if (tokens.length === 0) {\n    throw new Error(\"Referrer-Policy received no policy tokens\");\n  }\n  const tokensSeen = new Set();\n  tokens.forEach(token => {\n    if (!ALLOWED_TOKENS.has(token)) {\n      throw new Error(`Referrer-Policy received an unexpected policy token ${JSON.stringify(token)}`);\n    } else if (tokensSeen.has(token)) {\n      throw new Error(`Referrer-Policy received a duplicate policy token ${JSON.stringify(token)}`);\n    }\n    tokensSeen.add(token);\n  });\n  return tokens.join(\",\");\n}\nfunction referrerPolicy(options = {}) {\n  const headerValue = getHeaderValueFromOptions$3(options);\n  return function referrerPolicyMiddleware(_req, res, next) {\n    res.setHeader(\"Referrer-Policy\", headerValue);\n    next();\n  };\n}\nconst DEFAULT_MAX_AGE = 180 * 24 * 60 * 60;\nfunction parseMaxAge(value = DEFAULT_MAX_AGE) {\n  if (value >= 0 && Number.isFinite(value)) {\n    return Math.floor(value);\n  } else {\n    throw new Error(`Strict-Transport-Security: ${JSON.stringify(value)} is not a valid value for maxAge. Please choose a positive integer.`);\n  }\n}\nfunction getHeaderValueFromOptions$2(options) {\n  if (\"maxage\" in options) {\n    throw new Error(\"Strict-Transport-Security received an unsupported property, `maxage`. Did you mean to pass `maxAge`?\");\n  }\n  if (\"includeSubdomains\" in options) {\n    console.warn('Strict-Transport-Security middleware should use `includeSubDomains` instead of `includeSubdomains`. (The correct one has an uppercase \"D\".)');\n  }\n  const directives = [`max-age=${parseMaxAge(options.maxAge)}`];\n  if (options.includeSubDomains === undefined || options.includeSubDomains) {\n    directives.push(\"includeSubDomains\");\n  }\n  if (options.preload) {\n    directives.push(\"preload\");\n  }\n  return directives.join(\"; \");\n}\nfunction strictTransportSecurity(options = {}) {\n  const headerValue = getHeaderValueFromOptions$2(options);\n  return function strictTransportSecurityMiddleware(_req, res, next) {\n    res.setHeader(\"Strict-Transport-Security\", headerValue);\n    next();\n  };\n}\nfunction xContentTypeOptions() {\n  return function xContentTypeOptionsMiddleware(_req, res, next) {\n    res.setHeader(\"X-Content-Type-Options\", \"nosniff\");\n    next();\n  };\n}\nfunction xDnsPrefetchControl(options = {}) {\n  const headerValue = options.allow ? \"on\" : \"off\";\n  return function xDnsPrefetchControlMiddleware(_req, res, next) {\n    res.setHeader(\"X-DNS-Prefetch-Control\", headerValue);\n    next();\n  };\n}\nfunction xDownloadOptions() {\n  return function xDownloadOptionsMiddleware(_req, res, next) {\n    res.setHeader(\"X-Download-Options\", \"noopen\");\n    next();\n  };\n}\nfunction getHeaderValueFromOptions$1({\n  action = \"sameorigin\"\n}) {\n  const normalizedAction = typeof action === \"string\" ? action.toUpperCase() : action;\n  switch (normalizedAction) {\n    case \"SAME-ORIGIN\":\n      return \"SAMEORIGIN\";\n    case \"DENY\":\n    case \"SAMEORIGIN\":\n      return normalizedAction;\n    default:\n      throw new Error(`X-Frame-Options received an invalid action ${JSON.stringify(action)}`);\n  }\n}\nfunction xFrameOptions(options = {}) {\n  const headerValue = getHeaderValueFromOptions$1(options);\n  return function xFrameOptionsMiddleware(_req, res, next) {\n    res.setHeader(\"X-Frame-Options\", headerValue);\n    next();\n  };\n}\nconst ALLOWED_PERMITTED_POLICIES = new Set([\"none\", \"master-only\", \"by-content-type\", \"all\"]);\nfunction getHeaderValueFromOptions({\n  permittedPolicies = \"none\"\n}) {\n  if (ALLOWED_PERMITTED_POLICIES.has(permittedPolicies)) {\n    return permittedPolicies;\n  } else {\n    throw new Error(`X-Permitted-Cross-Domain-Policies does not support ${JSON.stringify(permittedPolicies)}`);\n  }\n}\nfunction xPermittedCrossDomainPolicies(options = {}) {\n  const headerValue = getHeaderValueFromOptions(options);\n  return function xPermittedCrossDomainPoliciesMiddleware(_req, res, next) {\n    res.setHeader(\"X-Permitted-Cross-Domain-Policies\", headerValue);\n    next();\n  };\n}\nfunction xPoweredBy() {\n  return function xPoweredByMiddleware(_req, res, next) {\n    res.removeHeader(\"X-Powered-By\");\n    next();\n  };\n}\nfunction xXssProtection() {\n  return function xXssProtectionMiddleware(_req, res, next) {\n    res.setHeader(\"X-XSS-Protection\", \"0\");\n    next();\n  };\n}\nfunction getMiddlewareFunctionsFromOptions(options) {\n  var _a, _b, _c, _d, _e, _f, _g, _h;\n  const result = [];\n  switch (options.contentSecurityPolicy) {\n    case undefined:\n    case true:\n      result.push(contentSecurityPolicy());\n      break;\n    case false:\n      break;\n    default:\n      result.push(contentSecurityPolicy(options.contentSecurityPolicy));\n      break;\n  }\n  switch (options.crossOriginEmbedderPolicy) {\n    case undefined:\n    case false:\n      break;\n    case true:\n      result.push(crossOriginEmbedderPolicy());\n      break;\n    default:\n      result.push(crossOriginEmbedderPolicy(options.crossOriginEmbedderPolicy));\n      break;\n  }\n  switch (options.crossOriginOpenerPolicy) {\n    case undefined:\n    case true:\n      result.push(crossOriginOpenerPolicy());\n      break;\n    case false:\n      break;\n    default:\n      result.push(crossOriginOpenerPolicy(options.crossOriginOpenerPolicy));\n      break;\n  }\n  switch (options.crossOriginResourcePolicy) {\n    case undefined:\n    case true:\n      result.push(crossOriginResourcePolicy());\n      break;\n    case false:\n      break;\n    default:\n      result.push(crossOriginResourcePolicy(options.crossOriginResourcePolicy));\n      break;\n  }\n  switch (options.originAgentCluster) {\n    case undefined:\n    case true:\n      result.push(originAgentCluster());\n      break;\n    case false:\n      break;\n    default:\n      console.warn(\"Origin-Agent-Cluster does not take options. Remove the property to silence this warning.\");\n      result.push(originAgentCluster());\n      break;\n  }\n  switch (options.referrerPolicy) {\n    case undefined:\n    case true:\n      result.push(referrerPolicy());\n      break;\n    case false:\n      break;\n    default:\n      result.push(referrerPolicy(options.referrerPolicy));\n      break;\n  }\n  if (\"strictTransportSecurity\" in options && \"hsts\" in options) {\n    throw new Error(\"Strict-Transport-Security option was specified twice. Remove `hsts` to silence this warning.\");\n  }\n  const strictTransportSecurityOption = (_a = options.strictTransportSecurity) !== null && _a !== void 0 ? _a : options.hsts;\n  switch (strictTransportSecurityOption) {\n    case undefined:\n    case true:\n      result.push(strictTransportSecurity());\n      break;\n    case false:\n      break;\n    default:\n      result.push(strictTransportSecurity(strictTransportSecurityOption));\n      break;\n  }\n  if (\"xContentTypeOptions\" in options && \"noSniff\" in options) {\n    throw new Error(\"X-Content-Type-Options option was specified twice. Remove `noSniff` to silence this warning.\");\n  }\n  const xContentTypeOptionsOption = (_b = options.xContentTypeOptions) !== null && _b !== void 0 ? _b : options.noSniff;\n  switch (xContentTypeOptionsOption) {\n    case undefined:\n    case true:\n      result.push(xContentTypeOptions());\n      break;\n    case false:\n      break;\n    default:\n      console.warn(\"X-Content-Type-Options does not take options. Remove the property to silence this warning.\");\n      result.push(xContentTypeOptions());\n      break;\n  }\n  if (\"xDnsPrefetchControl\" in options && \"dnsPrefetchControl\" in options) {\n    throw new Error(\"X-DNS-Prefetch-Control option was specified twice. Remove `dnsPrefetchControl` to silence this warning.\");\n  }\n  const xDnsPrefetchControlOption = (_c = options.xDnsPrefetchControl) !== null && _c !== void 0 ? _c : options.dnsPrefetchControl;\n  switch (xDnsPrefetchControlOption) {\n    case undefined:\n    case true:\n      result.push(xDnsPrefetchControl());\n      break;\n    case false:\n      break;\n    default:\n      result.push(xDnsPrefetchControl(xDnsPrefetchControlOption));\n      break;\n  }\n  if (\"xDownloadOptions\" in options && \"ieNoOpen\" in options) {\n    throw new Error(\"X-Download-Options option was specified twice. Remove `ieNoOpen` to silence this warning.\");\n  }\n  const xDownloadOptionsOption = (_d = options.xDownloadOptions) !== null && _d !== void 0 ? _d : options.ieNoOpen;\n  switch (xDownloadOptionsOption) {\n    case undefined:\n    case true:\n      result.push(xDownloadOptions());\n      break;\n    case false:\n      break;\n    default:\n      console.warn(\"X-Download-Options does not take options. Remove the property to silence this warning.\");\n      result.push(xDownloadOptions());\n      break;\n  }\n  if (\"xFrameOptions\" in options && \"frameguard\" in options) {\n    throw new Error(\"X-Frame-Options option was specified twice. Remove `frameguard` to silence this warning.\");\n  }\n  const xFrameOptionsOption = (_e = options.xFrameOptions) !== null && _e !== void 0 ? _e : options.frameguard;\n  switch (xFrameOptionsOption) {\n    case undefined:\n    case true:\n      result.push(xFrameOptions());\n      break;\n    case false:\n      break;\n    default:\n      result.push(xFrameOptions(xFrameOptionsOption));\n      break;\n  }\n  if (\"xPermittedCrossDomainPolicies\" in options && \"permittedCrossDomainPolicies\" in options) {\n    throw new Error(\"X-Permitted-Cross-Domain-Policies option was specified twice. Remove `permittedCrossDomainPolicies` to silence this warning.\");\n  }\n  const xPermittedCrossDomainPoliciesOption = (_f = options.xPermittedCrossDomainPolicies) !== null && _f !== void 0 ? _f : options.permittedCrossDomainPolicies;\n  switch (xPermittedCrossDomainPoliciesOption) {\n    case undefined:\n    case true:\n      result.push(xPermittedCrossDomainPolicies());\n      break;\n    case false:\n      break;\n    default:\n      result.push(xPermittedCrossDomainPolicies(xPermittedCrossDomainPoliciesOption));\n      break;\n  }\n  if (\"xPoweredBy\" in options && \"hidePoweredBy\" in options) {\n    throw new Error(\"X-Powered-By option was specified twice. Remove `hidePoweredBy` to silence this warning.\");\n  }\n  const xPoweredByOption = (_g = options.xPoweredBy) !== null && _g !== void 0 ? _g : options.hidePoweredBy;\n  switch (xPoweredByOption) {\n    case undefined:\n    case true:\n      result.push(xPoweredBy());\n      break;\n    case false:\n      break;\n    default:\n      console.warn(\"X-Powered-By does not take options. Remove the property to silence this warning.\");\n      result.push(xPoweredBy());\n      break;\n  }\n  if (\"xXssProtection\" in options && \"xssFilter\" in options) {\n    throw new Error(\"X-XSS-Protection option was specified twice. Remove `xssFilter` to silence this warning.\");\n  }\n  const xXssProtectionOption = (_h = options.xXssProtection) !== null && _h !== void 0 ? _h : options.xssFilter;\n  switch (xXssProtectionOption) {\n    case undefined:\n    case true:\n      result.push(xXssProtection());\n      break;\n    case false:\n      break;\n    default:\n      console.warn(\"X-XSS-Protection does not take options. Remove the property to silence this warning.\");\n      result.push(xXssProtection());\n      break;\n  }\n  return result;\n}\nconst helmet = Object.assign(function helmet(options = {}) {\n  var _a;\n  // People should be able to pass an options object with no prototype,\n  // so we want this optional chaining.\n  // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n  if (((_a = options.constructor) === null || _a === void 0 ? void 0 : _a.name) === \"IncomingMessage\") {\n    throw new Error(\"It appears you have done something like `app.use(helmet)`, but it should be `app.use(helmet())`.\");\n  }\n  const middlewareFunctions = getMiddlewareFunctionsFromOptions(options);\n  return function helmetMiddleware(req, res, next) {\n    let middlewareIndex = 0;\n    (function internalNext(err) {\n      if (err) {\n        next(err);\n        return;\n      }\n      const middlewareFunction = middlewareFunctions[middlewareIndex];\n      if (middlewareFunction) {\n        middlewareIndex++;\n        middlewareFunction(req, res, internalNext);\n      } else {\n        next();\n      }\n    })();\n  };\n}, {\n  contentSecurityPolicy,\n  crossOriginEmbedderPolicy,\n  crossOriginOpenerPolicy,\n  crossOriginResourcePolicy,\n  originAgentCluster,\n  referrerPolicy,\n  strictTransportSecurity,\n  xContentTypeOptions,\n  xDnsPrefetchControl,\n  xDownloadOptions,\n  xFrameOptions,\n  xPermittedCrossDomainPolicies,\n  xPoweredBy,\n  xXssProtection,\n  // Legacy aliases\n  dnsPrefetchControl: xDnsPrefetchControl,\n  xssFilter: xXssProtection,\n  permittedCrossDomainPolicies: xPermittedCrossDomainPolicies,\n  ieNoOpen: xDownloadOptions,\n  noSniff: xContentTypeOptions,\n  frameguard: xFrameOptions,\n  hidePoweredBy: xPoweredBy,\n  hsts: strictTransportSecurity\n});\nexport { contentSecurityPolicy, crossOriginEmbedderPolicy, crossOriginOpenerPolicy, crossOriginResourcePolicy, helmet as default, xDnsPrefetchControl as dnsPrefetchControl, xFrameOptions as frameguard, xPoweredBy as hidePoweredBy, strictTransportSecurity as hsts, xDownloadOptions as ieNoOpen, xContentTypeOptions as noSniff, originAgentCluster, xPermittedCrossDomainPolicies as permittedCrossDomainPolicies, referrerPolicy, strictTransportSecurity, xContentTypeOptions, xDnsPrefetchControl, xDownloadOptions, xFrameOptions, xPermittedCrossDomainPolicies, xPoweredBy, xXssProtection, xXssProtection as xssFilter };","map":{"version":3,"names":["dangerouslyDisableDefaultSrc","Symbol","DEFAULT_DIRECTIVES","getDefaultDirectives","Object","assign","dashify","str","replace","capitalLetter","toLowerCase","isDirectiveValueInvalid","directiveValue","test","has","obj","key","prototype","hasOwnProperty","call","normalizeDirectives","options","defaultDirectives","useDefaults","directives","rawDirectives","result","Map","directiveNamesSeen","Set","directivesExplicitlyDisabled","rawDirectiveName","length","Error","JSON","stringify","directiveName","add","rawDirectiveValue","element","set","entries","forEach","defaultDirectiveName","defaultDirectiveValue","size","getHeaderValue","req","res","normalizedDirectives","err","Function","push","join","contentSecurityPolicy","headerName","reportOnly","contentSecurityPolicyMiddleware","next","setHeader","ALLOWED_POLICIES$2","getHeaderValueFromOptions$6","policy","crossOriginEmbedderPolicy","headerValue","crossOriginEmbedderPolicyMiddleware","_req","ALLOWED_POLICIES$1","getHeaderValueFromOptions$5","crossOriginOpenerPolicy","crossOriginOpenerPolicyMiddleware","ALLOWED_POLICIES","getHeaderValueFromOptions$4","crossOriginResourcePolicy","crossOriginResourcePolicyMiddleware","originAgentCluster","originAgentClusterMiddleware","ALLOWED_TOKENS","getHeaderValueFromOptions$3","tokens","tokensSeen","token","referrerPolicy","referrerPolicyMiddleware","DEFAULT_MAX_AGE","parseMaxAge","value","Number","isFinite","Math","floor","getHeaderValueFromOptions$2","console","warn","maxAge","includeSubDomains","undefined","preload","strictTransportSecurity","strictTransportSecurityMiddleware","xContentTypeOptions","xContentTypeOptionsMiddleware","xDnsPrefetchControl","allow","xDnsPrefetchControlMiddleware","xDownloadOptions","xDownloadOptionsMiddleware","getHeaderValueFromOptions$1","action","normalizedAction","toUpperCase","xFrameOptions","xFrameOptionsMiddleware","ALLOWED_PERMITTED_POLICIES","getHeaderValueFromOptions","permittedPolicies","xPermittedCrossDomainPolicies","xPermittedCrossDomainPoliciesMiddleware","xPoweredBy","xPoweredByMiddleware","removeHeader","xXssProtection","xXssProtectionMiddleware","getMiddlewareFunctionsFromOptions","_a","_b","_c","_d","_e","_f","_g","_h","strictTransportSecurityOption","hsts","xContentTypeOptionsOption","noSniff","xDnsPrefetchControlOption","dnsPrefetchControl","xDownloadOptionsOption","ieNoOpen","xFrameOptionsOption","frameguard","xPermittedCrossDomainPoliciesOption","permittedCrossDomainPolicies","xPoweredByOption","hidePoweredBy","xXssProtectionOption","xssFilter","helmet","constructor","name","middlewareFunctions","helmetMiddleware","middlewareIndex","internalNext","middlewareFunction","default"],"sources":["C:/Users/swapn/OneDrive/Desktop/SNEAK IN_2/client/node_modules/helmet/index.mjs"],"sourcesContent":["const dangerouslyDisableDefaultSrc = Symbol(\"dangerouslyDisableDefaultSrc\")\nconst DEFAULT_DIRECTIVES = {\n\t\"default-src\": [\"'self'\"],\n\t\"base-uri\": [\"'self'\"],\n\t\"font-src\": [\"'self'\", \"https:\", \"data:\"],\n\t\"form-action\": [\"'self'\"],\n\t\"frame-ancestors\": [\"'self'\"],\n\t\"img-src\": [\"'self'\", \"data:\"],\n\t\"object-src\": [\"'none'\"],\n\t\"script-src\": [\"'self'\"],\n\t\"script-src-attr\": [\"'none'\"],\n\t\"style-src\": [\"'self'\", \"https:\", \"'unsafe-inline'\"],\n\t\"upgrade-insecure-requests\": []\n}\nconst getDefaultDirectives = () => Object.assign({}, DEFAULT_DIRECTIVES)\nconst dashify = str => str.replace(/[A-Z]/g, capitalLetter => \"-\" + capitalLetter.toLowerCase())\nconst isDirectiveValueInvalid = directiveValue => /;|,/.test(directiveValue)\nconst has = (obj, key) => Object.prototype.hasOwnProperty.call(obj, key)\nfunction normalizeDirectives(options) {\n\tconst defaultDirectives = getDefaultDirectives()\n\tconst {useDefaults = true, directives: rawDirectives = defaultDirectives} = options\n\tconst result = new Map()\n\tconst directiveNamesSeen = new Set()\n\tconst directivesExplicitlyDisabled = new Set()\n\tfor (const rawDirectiveName in rawDirectives) {\n\t\tif (!has(rawDirectives, rawDirectiveName)) {\n\t\t\tcontinue\n\t\t}\n\t\tif (rawDirectiveName.length === 0 || /[^a-zA-Z0-9-]/.test(rawDirectiveName)) {\n\t\t\tthrow new Error(`Content-Security-Policy received an invalid directive name ${JSON.stringify(rawDirectiveName)}`)\n\t\t}\n\t\tconst directiveName = dashify(rawDirectiveName)\n\t\tif (directiveNamesSeen.has(directiveName)) {\n\t\t\tthrow new Error(`Content-Security-Policy received a duplicate directive ${JSON.stringify(directiveName)}`)\n\t\t}\n\t\tdirectiveNamesSeen.add(directiveName)\n\t\tconst rawDirectiveValue = rawDirectives[rawDirectiveName]\n\t\tlet directiveValue\n\t\tif (rawDirectiveValue === null) {\n\t\t\tif (directiveName === \"default-src\") {\n\t\t\t\tthrow new Error(\"Content-Security-Policy needs a default-src but it was set to `null`. If you really want to disable it, set it to `contentSecurityPolicy.dangerouslyDisableDefaultSrc`.\")\n\t\t\t}\n\t\t\tdirectivesExplicitlyDisabled.add(directiveName)\n\t\t\tcontinue\n\t\t} else if (typeof rawDirectiveValue === \"string\") {\n\t\t\tdirectiveValue = [rawDirectiveValue]\n\t\t} else if (!rawDirectiveValue) {\n\t\t\tthrow new Error(`Content-Security-Policy received an invalid directive value for ${JSON.stringify(directiveName)}`)\n\t\t} else if (rawDirectiveValue === dangerouslyDisableDefaultSrc) {\n\t\t\tif (directiveName === \"default-src\") {\n\t\t\t\tdirectivesExplicitlyDisabled.add(\"default-src\")\n\t\t\t\tcontinue\n\t\t\t} else {\n\t\t\t\tthrow new Error(`Content-Security-Policy: tried to disable ${JSON.stringify(directiveName)} as if it were default-src; simply omit the key`)\n\t\t\t}\n\t\t} else {\n\t\t\tdirectiveValue = rawDirectiveValue\n\t\t}\n\t\tfor (const element of directiveValue) {\n\t\t\tif (typeof element === \"string\" && isDirectiveValueInvalid(element)) {\n\t\t\t\tthrow new Error(`Content-Security-Policy received an invalid directive value for ${JSON.stringify(directiveName)}`)\n\t\t\t}\n\t\t}\n\t\tresult.set(directiveName, directiveValue)\n\t}\n\tif (useDefaults) {\n\t\tObject.entries(defaultDirectives).forEach(([defaultDirectiveName, defaultDirectiveValue]) => {\n\t\t\tif (!result.has(defaultDirectiveName) && !directivesExplicitlyDisabled.has(defaultDirectiveName)) {\n\t\t\t\tresult.set(defaultDirectiveName, defaultDirectiveValue)\n\t\t\t}\n\t\t})\n\t}\n\tif (!result.size) {\n\t\tthrow new Error(\"Content-Security-Policy has no directives. Either set some or disable the header\")\n\t}\n\tif (!result.has(\"default-src\") && !directivesExplicitlyDisabled.has(\"default-src\")) {\n\t\tthrow new Error(\"Content-Security-Policy needs a default-src but none was provided. If you really want to disable it, set it to `contentSecurityPolicy.dangerouslyDisableDefaultSrc`.\")\n\t}\n\treturn result\n}\nfunction getHeaderValue(req, res, normalizedDirectives) {\n\tlet err\n\tconst result = []\n\tnormalizedDirectives.forEach((rawDirectiveValue, directiveName) => {\n\t\tlet directiveValue = \"\"\n\t\tfor (const element of rawDirectiveValue) {\n\t\t\tdirectiveValue += \" \" + (element instanceof Function ? element(req, res) : element)\n\t\t}\n\t\tif (!directiveValue) {\n\t\t\tresult.push(directiveName)\n\t\t} else if (isDirectiveValueInvalid(directiveValue)) {\n\t\t\terr = new Error(`Content-Security-Policy received an invalid directive value for ${JSON.stringify(directiveName)}`)\n\t\t} else {\n\t\t\tresult.push(`${directiveName}${directiveValue}`)\n\t\t}\n\t})\n\treturn err ? err : result.join(\";\")\n}\nconst contentSecurityPolicy = function contentSecurityPolicy(options = {}) {\n\tconst headerName = options.reportOnly ? \"Content-Security-Policy-Report-Only\" : \"Content-Security-Policy\"\n\tconst normalizedDirectives = normalizeDirectives(options)\n\treturn function contentSecurityPolicyMiddleware(req, res, next) {\n\t\tconst result = getHeaderValue(req, res, normalizedDirectives)\n\t\tif (result instanceof Error) {\n\t\t\tnext(result)\n\t\t} else {\n\t\t\tres.setHeader(headerName, result)\n\t\t\tnext()\n\t\t}\n\t}\n}\ncontentSecurityPolicy.getDefaultDirectives = getDefaultDirectives\ncontentSecurityPolicy.dangerouslyDisableDefaultSrc = dangerouslyDisableDefaultSrc\n\nconst ALLOWED_POLICIES$2 = new Set([\"require-corp\", \"credentialless\", \"unsafe-none\"])\nfunction getHeaderValueFromOptions$6({policy = \"require-corp\"}) {\n\tif (ALLOWED_POLICIES$2.has(policy)) {\n\t\treturn policy\n\t} else {\n\t\tthrow new Error(`Cross-Origin-Embedder-Policy does not support the ${JSON.stringify(policy)} policy`)\n\t}\n}\nfunction crossOriginEmbedderPolicy(options = {}) {\n\tconst headerValue = getHeaderValueFromOptions$6(options)\n\treturn function crossOriginEmbedderPolicyMiddleware(_req, res, next) {\n\t\tres.setHeader(\"Cross-Origin-Embedder-Policy\", headerValue)\n\t\tnext()\n\t}\n}\n\nconst ALLOWED_POLICIES$1 = new Set([\"same-origin\", \"same-origin-allow-popups\", \"unsafe-none\"])\nfunction getHeaderValueFromOptions$5({policy = \"same-origin\"}) {\n\tif (ALLOWED_POLICIES$1.has(policy)) {\n\t\treturn policy\n\t} else {\n\t\tthrow new Error(`Cross-Origin-Opener-Policy does not support the ${JSON.stringify(policy)} policy`)\n\t}\n}\nfunction crossOriginOpenerPolicy(options = {}) {\n\tconst headerValue = getHeaderValueFromOptions$5(options)\n\treturn function crossOriginOpenerPolicyMiddleware(_req, res, next) {\n\t\tres.setHeader(\"Cross-Origin-Opener-Policy\", headerValue)\n\t\tnext()\n\t}\n}\n\nconst ALLOWED_POLICIES = new Set([\"same-origin\", \"same-site\", \"cross-origin\"])\nfunction getHeaderValueFromOptions$4({policy = \"same-origin\"}) {\n\tif (ALLOWED_POLICIES.has(policy)) {\n\t\treturn policy\n\t} else {\n\t\tthrow new Error(`Cross-Origin-Resource-Policy does not support the ${JSON.stringify(policy)} policy`)\n\t}\n}\nfunction crossOriginResourcePolicy(options = {}) {\n\tconst headerValue = getHeaderValueFromOptions$4(options)\n\treturn function crossOriginResourcePolicyMiddleware(_req, res, next) {\n\t\tres.setHeader(\"Cross-Origin-Resource-Policy\", headerValue)\n\t\tnext()\n\t}\n}\n\nfunction originAgentCluster() {\n\treturn function originAgentClusterMiddleware(_req, res, next) {\n\t\tres.setHeader(\"Origin-Agent-Cluster\", \"?1\")\n\t\tnext()\n\t}\n}\n\nconst ALLOWED_TOKENS = new Set([\"no-referrer\", \"no-referrer-when-downgrade\", \"same-origin\", \"origin\", \"strict-origin\", \"origin-when-cross-origin\", \"strict-origin-when-cross-origin\", \"unsafe-url\", \"\"])\nfunction getHeaderValueFromOptions$3({policy = [\"no-referrer\"]}) {\n\tconst tokens = typeof policy === \"string\" ? [policy] : policy\n\tif (tokens.length === 0) {\n\t\tthrow new Error(\"Referrer-Policy received no policy tokens\")\n\t}\n\tconst tokensSeen = new Set()\n\ttokens.forEach(token => {\n\t\tif (!ALLOWED_TOKENS.has(token)) {\n\t\t\tthrow new Error(`Referrer-Policy received an unexpected policy token ${JSON.stringify(token)}`)\n\t\t} else if (tokensSeen.has(token)) {\n\t\t\tthrow new Error(`Referrer-Policy received a duplicate policy token ${JSON.stringify(token)}`)\n\t\t}\n\t\ttokensSeen.add(token)\n\t})\n\treturn tokens.join(\",\")\n}\nfunction referrerPolicy(options = {}) {\n\tconst headerValue = getHeaderValueFromOptions$3(options)\n\treturn function referrerPolicyMiddleware(_req, res, next) {\n\t\tres.setHeader(\"Referrer-Policy\", headerValue)\n\t\tnext()\n\t}\n}\n\nconst DEFAULT_MAX_AGE = 180 * 24 * 60 * 60\nfunction parseMaxAge(value = DEFAULT_MAX_AGE) {\n\tif (value >= 0 && Number.isFinite(value)) {\n\t\treturn Math.floor(value)\n\t} else {\n\t\tthrow new Error(`Strict-Transport-Security: ${JSON.stringify(value)} is not a valid value for maxAge. Please choose a positive integer.`)\n\t}\n}\nfunction getHeaderValueFromOptions$2(options) {\n\tif (\"maxage\" in options) {\n\t\tthrow new Error(\"Strict-Transport-Security received an unsupported property, `maxage`. Did you mean to pass `maxAge`?\")\n\t}\n\tif (\"includeSubdomains\" in options) {\n\t\tconsole.warn('Strict-Transport-Security middleware should use `includeSubDomains` instead of `includeSubdomains`. (The correct one has an uppercase \"D\".)')\n\t}\n\tconst directives = [`max-age=${parseMaxAge(options.maxAge)}`]\n\tif (options.includeSubDomains === undefined || options.includeSubDomains) {\n\t\tdirectives.push(\"includeSubDomains\")\n\t}\n\tif (options.preload) {\n\t\tdirectives.push(\"preload\")\n\t}\n\treturn directives.join(\"; \")\n}\nfunction strictTransportSecurity(options = {}) {\n\tconst headerValue = getHeaderValueFromOptions$2(options)\n\treturn function strictTransportSecurityMiddleware(_req, res, next) {\n\t\tres.setHeader(\"Strict-Transport-Security\", headerValue)\n\t\tnext()\n\t}\n}\n\nfunction xContentTypeOptions() {\n\treturn function xContentTypeOptionsMiddleware(_req, res, next) {\n\t\tres.setHeader(\"X-Content-Type-Options\", \"nosniff\")\n\t\tnext()\n\t}\n}\n\nfunction xDnsPrefetchControl(options = {}) {\n\tconst headerValue = options.allow ? \"on\" : \"off\"\n\treturn function xDnsPrefetchControlMiddleware(_req, res, next) {\n\t\tres.setHeader(\"X-DNS-Prefetch-Control\", headerValue)\n\t\tnext()\n\t}\n}\n\nfunction xDownloadOptions() {\n\treturn function xDownloadOptionsMiddleware(_req, res, next) {\n\t\tres.setHeader(\"X-Download-Options\", \"noopen\")\n\t\tnext()\n\t}\n}\n\nfunction getHeaderValueFromOptions$1({action = \"sameorigin\"}) {\n\tconst normalizedAction = typeof action === \"string\" ? action.toUpperCase() : action\n\tswitch (normalizedAction) {\n\t\tcase \"SAME-ORIGIN\":\n\t\t\treturn \"SAMEORIGIN\"\n\t\tcase \"DENY\":\n\t\tcase \"SAMEORIGIN\":\n\t\t\treturn normalizedAction\n\t\tdefault:\n\t\t\tthrow new Error(`X-Frame-Options received an invalid action ${JSON.stringify(action)}`)\n\t}\n}\nfunction xFrameOptions(options = {}) {\n\tconst headerValue = getHeaderValueFromOptions$1(options)\n\treturn function xFrameOptionsMiddleware(_req, res, next) {\n\t\tres.setHeader(\"X-Frame-Options\", headerValue)\n\t\tnext()\n\t}\n}\n\nconst ALLOWED_PERMITTED_POLICIES = new Set([\"none\", \"master-only\", \"by-content-type\", \"all\"])\nfunction getHeaderValueFromOptions({permittedPolicies = \"none\"}) {\n\tif (ALLOWED_PERMITTED_POLICIES.has(permittedPolicies)) {\n\t\treturn permittedPolicies\n\t} else {\n\t\tthrow new Error(`X-Permitted-Cross-Domain-Policies does not support ${JSON.stringify(permittedPolicies)}`)\n\t}\n}\nfunction xPermittedCrossDomainPolicies(options = {}) {\n\tconst headerValue = getHeaderValueFromOptions(options)\n\treturn function xPermittedCrossDomainPoliciesMiddleware(_req, res, next) {\n\t\tres.setHeader(\"X-Permitted-Cross-Domain-Policies\", headerValue)\n\t\tnext()\n\t}\n}\n\nfunction xPoweredBy() {\n\treturn function xPoweredByMiddleware(_req, res, next) {\n\t\tres.removeHeader(\"X-Powered-By\")\n\t\tnext()\n\t}\n}\n\nfunction xXssProtection() {\n\treturn function xXssProtectionMiddleware(_req, res, next) {\n\t\tres.setHeader(\"X-XSS-Protection\", \"0\")\n\t\tnext()\n\t}\n}\n\nfunction getMiddlewareFunctionsFromOptions(options) {\n\tvar _a, _b, _c, _d, _e, _f, _g, _h\n\tconst result = []\n\tswitch (options.contentSecurityPolicy) {\n\t\tcase undefined:\n\t\tcase true:\n\t\t\tresult.push(contentSecurityPolicy())\n\t\t\tbreak\n\t\tcase false:\n\t\t\tbreak\n\t\tdefault:\n\t\t\tresult.push(contentSecurityPolicy(options.contentSecurityPolicy))\n\t\t\tbreak\n\t}\n\tswitch (options.crossOriginEmbedderPolicy) {\n\t\tcase undefined:\n\t\tcase false:\n\t\t\tbreak\n\t\tcase true:\n\t\t\tresult.push(crossOriginEmbedderPolicy())\n\t\t\tbreak\n\t\tdefault:\n\t\t\tresult.push(crossOriginEmbedderPolicy(options.crossOriginEmbedderPolicy))\n\t\t\tbreak\n\t}\n\tswitch (options.crossOriginOpenerPolicy) {\n\t\tcase undefined:\n\t\tcase true:\n\t\t\tresult.push(crossOriginOpenerPolicy())\n\t\t\tbreak\n\t\tcase false:\n\t\t\tbreak\n\t\tdefault:\n\t\t\tresult.push(crossOriginOpenerPolicy(options.crossOriginOpenerPolicy))\n\t\t\tbreak\n\t}\n\tswitch (options.crossOriginResourcePolicy) {\n\t\tcase undefined:\n\t\tcase true:\n\t\t\tresult.push(crossOriginResourcePolicy())\n\t\t\tbreak\n\t\tcase false:\n\t\t\tbreak\n\t\tdefault:\n\t\t\tresult.push(crossOriginResourcePolicy(options.crossOriginResourcePolicy))\n\t\t\tbreak\n\t}\n\tswitch (options.originAgentCluster) {\n\t\tcase undefined:\n\t\tcase true:\n\t\t\tresult.push(originAgentCluster())\n\t\t\tbreak\n\t\tcase false:\n\t\t\tbreak\n\t\tdefault:\n\t\t\tconsole.warn(\"Origin-Agent-Cluster does not take options. Remove the property to silence this warning.\")\n\t\t\tresult.push(originAgentCluster())\n\t\t\tbreak\n\t}\n\tswitch (options.referrerPolicy) {\n\t\tcase undefined:\n\t\tcase true:\n\t\t\tresult.push(referrerPolicy())\n\t\t\tbreak\n\t\tcase false:\n\t\t\tbreak\n\t\tdefault:\n\t\t\tresult.push(referrerPolicy(options.referrerPolicy))\n\t\t\tbreak\n\t}\n\tif (\"strictTransportSecurity\" in options && \"hsts\" in options) {\n\t\tthrow new Error(\"Strict-Transport-Security option was specified twice. Remove `hsts` to silence this warning.\")\n\t}\n\tconst strictTransportSecurityOption = (_a = options.strictTransportSecurity) !== null && _a !== void 0 ? _a : options.hsts\n\tswitch (strictTransportSecurityOption) {\n\t\tcase undefined:\n\t\tcase true:\n\t\t\tresult.push(strictTransportSecurity())\n\t\t\tbreak\n\t\tcase false:\n\t\t\tbreak\n\t\tdefault:\n\t\t\tresult.push(strictTransportSecurity(strictTransportSecurityOption))\n\t\t\tbreak\n\t}\n\tif (\"xContentTypeOptions\" in options && \"noSniff\" in options) {\n\t\tthrow new Error(\"X-Content-Type-Options option was specified twice. Remove `noSniff` to silence this warning.\")\n\t}\n\tconst xContentTypeOptionsOption = (_b = options.xContentTypeOptions) !== null && _b !== void 0 ? _b : options.noSniff\n\tswitch (xContentTypeOptionsOption) {\n\t\tcase undefined:\n\t\tcase true:\n\t\t\tresult.push(xContentTypeOptions())\n\t\t\tbreak\n\t\tcase false:\n\t\t\tbreak\n\t\tdefault:\n\t\t\tconsole.warn(\"X-Content-Type-Options does not take options. Remove the property to silence this warning.\")\n\t\t\tresult.push(xContentTypeOptions())\n\t\t\tbreak\n\t}\n\tif (\"xDnsPrefetchControl\" in options && \"dnsPrefetchControl\" in options) {\n\t\tthrow new Error(\"X-DNS-Prefetch-Control option was specified twice. Remove `dnsPrefetchControl` to silence this warning.\")\n\t}\n\tconst xDnsPrefetchControlOption = (_c = options.xDnsPrefetchControl) !== null && _c !== void 0 ? _c : options.dnsPrefetchControl\n\tswitch (xDnsPrefetchControlOption) {\n\t\tcase undefined:\n\t\tcase true:\n\t\t\tresult.push(xDnsPrefetchControl())\n\t\t\tbreak\n\t\tcase false:\n\t\t\tbreak\n\t\tdefault:\n\t\t\tresult.push(xDnsPrefetchControl(xDnsPrefetchControlOption))\n\t\t\tbreak\n\t}\n\tif (\"xDownloadOptions\" in options && \"ieNoOpen\" in options) {\n\t\tthrow new Error(\"X-Download-Options option was specified twice. Remove `ieNoOpen` to silence this warning.\")\n\t}\n\tconst xDownloadOptionsOption = (_d = options.xDownloadOptions) !== null && _d !== void 0 ? _d : options.ieNoOpen\n\tswitch (xDownloadOptionsOption) {\n\t\tcase undefined:\n\t\tcase true:\n\t\t\tresult.push(xDownloadOptions())\n\t\t\tbreak\n\t\tcase false:\n\t\t\tbreak\n\t\tdefault:\n\t\t\tconsole.warn(\"X-Download-Options does not take options. Remove the property to silence this warning.\")\n\t\t\tresult.push(xDownloadOptions())\n\t\t\tbreak\n\t}\n\tif (\"xFrameOptions\" in options && \"frameguard\" in options) {\n\t\tthrow new Error(\"X-Frame-Options option was specified twice. Remove `frameguard` to silence this warning.\")\n\t}\n\tconst xFrameOptionsOption = (_e = options.xFrameOptions) !== null && _e !== void 0 ? _e : options.frameguard\n\tswitch (xFrameOptionsOption) {\n\t\tcase undefined:\n\t\tcase true:\n\t\t\tresult.push(xFrameOptions())\n\t\t\tbreak\n\t\tcase false:\n\t\t\tbreak\n\t\tdefault:\n\t\t\tresult.push(xFrameOptions(xFrameOptionsOption))\n\t\t\tbreak\n\t}\n\tif (\"xPermittedCrossDomainPolicies\" in options && \"permittedCrossDomainPolicies\" in options) {\n\t\tthrow new Error(\"X-Permitted-Cross-Domain-Policies option was specified twice. Remove `permittedCrossDomainPolicies` to silence this warning.\")\n\t}\n\tconst xPermittedCrossDomainPoliciesOption = (_f = options.xPermittedCrossDomainPolicies) !== null && _f !== void 0 ? _f : options.permittedCrossDomainPolicies\n\tswitch (xPermittedCrossDomainPoliciesOption) {\n\t\tcase undefined:\n\t\tcase true:\n\t\t\tresult.push(xPermittedCrossDomainPolicies())\n\t\t\tbreak\n\t\tcase false:\n\t\t\tbreak\n\t\tdefault:\n\t\t\tresult.push(xPermittedCrossDomainPolicies(xPermittedCrossDomainPoliciesOption))\n\t\t\tbreak\n\t}\n\tif (\"xPoweredBy\" in options && \"hidePoweredBy\" in options) {\n\t\tthrow new Error(\"X-Powered-By option was specified twice. Remove `hidePoweredBy` to silence this warning.\")\n\t}\n\tconst xPoweredByOption = (_g = options.xPoweredBy) !== null && _g !== void 0 ? _g : options.hidePoweredBy\n\tswitch (xPoweredByOption) {\n\t\tcase undefined:\n\t\tcase true:\n\t\t\tresult.push(xPoweredBy())\n\t\t\tbreak\n\t\tcase false:\n\t\t\tbreak\n\t\tdefault:\n\t\t\tconsole.warn(\"X-Powered-By does not take options. Remove the property to silence this warning.\")\n\t\t\tresult.push(xPoweredBy())\n\t\t\tbreak\n\t}\n\tif (\"xXssProtection\" in options && \"xssFilter\" in options) {\n\t\tthrow new Error(\"X-XSS-Protection option was specified twice. Remove `xssFilter` to silence this warning.\")\n\t}\n\tconst xXssProtectionOption = (_h = options.xXssProtection) !== null && _h !== void 0 ? _h : options.xssFilter\n\tswitch (xXssProtectionOption) {\n\t\tcase undefined:\n\t\tcase true:\n\t\t\tresult.push(xXssProtection())\n\t\t\tbreak\n\t\tcase false:\n\t\t\tbreak\n\t\tdefault:\n\t\t\tconsole.warn(\"X-XSS-Protection does not take options. Remove the property to silence this warning.\")\n\t\t\tresult.push(xXssProtection())\n\t\t\tbreak\n\t}\n\treturn result\n}\nconst helmet = Object.assign(\n\tfunction helmet(options = {}) {\n\t\tvar _a\n\t\t// People should be able to pass an options object with no prototype,\n\t\t// so we want this optional chaining.\n\t\t// eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n\t\tif (((_a = options.constructor) === null || _a === void 0 ? void 0 : _a.name) === \"IncomingMessage\") {\n\t\t\tthrow new Error(\"It appears you have done something like `app.use(helmet)`, but it should be `app.use(helmet())`.\")\n\t\t}\n\t\tconst middlewareFunctions = getMiddlewareFunctionsFromOptions(options)\n\t\treturn function helmetMiddleware(req, res, next) {\n\t\t\tlet middlewareIndex = 0\n\t\t\t;(function internalNext(err) {\n\t\t\t\tif (err) {\n\t\t\t\t\tnext(err)\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tconst middlewareFunction = middlewareFunctions[middlewareIndex]\n\t\t\t\tif (middlewareFunction) {\n\t\t\t\t\tmiddlewareIndex++\n\t\t\t\t\tmiddlewareFunction(req, res, internalNext)\n\t\t\t\t} else {\n\t\t\t\t\tnext()\n\t\t\t\t}\n\t\t\t})()\n\t\t}\n\t},\n\t{\n\t\tcontentSecurityPolicy,\n\t\tcrossOriginEmbedderPolicy,\n\t\tcrossOriginOpenerPolicy,\n\t\tcrossOriginResourcePolicy,\n\t\toriginAgentCluster,\n\t\treferrerPolicy,\n\t\tstrictTransportSecurity,\n\t\txContentTypeOptions,\n\t\txDnsPrefetchControl,\n\t\txDownloadOptions,\n\t\txFrameOptions,\n\t\txPermittedCrossDomainPolicies,\n\t\txPoweredBy,\n\t\txXssProtection,\n\t\t// Legacy aliases\n\t\tdnsPrefetchControl: xDnsPrefetchControl,\n\t\txssFilter: xXssProtection,\n\t\tpermittedCrossDomainPolicies: xPermittedCrossDomainPolicies,\n\t\tieNoOpen: xDownloadOptions,\n\t\tnoSniff: xContentTypeOptions,\n\t\tframeguard: xFrameOptions,\n\t\thidePoweredBy: xPoweredBy,\n\t\thsts: strictTransportSecurity\n\t}\n)\n\nexport {contentSecurityPolicy, crossOriginEmbedderPolicy, crossOriginOpenerPolicy, crossOriginResourcePolicy, helmet as default, xDnsPrefetchControl as dnsPrefetchControl, xFrameOptions as frameguard, xPoweredBy as hidePoweredBy, strictTransportSecurity as hsts, xDownloadOptions as ieNoOpen, xContentTypeOptions as noSniff, originAgentCluster, xPermittedCrossDomainPolicies as permittedCrossDomainPolicies, referrerPolicy, strictTransportSecurity, xContentTypeOptions, xDnsPrefetchControl, xDownloadOptions, xFrameOptions, xPermittedCrossDomainPolicies, xPoweredBy, xXssProtection, xXssProtection as xssFilter}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}